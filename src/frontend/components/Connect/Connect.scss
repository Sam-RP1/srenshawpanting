@use '../../styles/_index.scss' as i;
@use "sass:math";
@use "sass:map";

.section--connect {
    justify-content: center;
    padding: {
        top: 5rem;
        right: 1.5rem;
        bottom: 3.75rem;
        left: 3rem;
    }
}

.connect {
    position: relative;
    display: flex;
    flex-direction: column;
    height: auto;
    color: white;

    .timeline {
        top: -5rem;
        height: calc(100% + 8.75rem);
    }

    &__icons-container {
        display: flex;
        flex-direction: column;
        // flex-wrap: wrap;
        align-items: center;
    }

    &__ps {
        $size: 210px;
        position: relative;
        height: $size;
        width: $size;
        transform-style: preserve-3d;
        perspective: 800px;
        // animation: bounce 1s infinite alternate;

        &__wrapper {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;

            // need to do it per each one
            $orbits: 2;
            @for $i from 1 through $orbits + 1 {
                &:nth-child(#{$i}) {
                    .connect__ps__celestial-body--satellite {
                        animation: orbit 4400ms + (500 * $i) linear infinite;

                        span {
                            animation: satellite 4400ms + (500 * $i) linear infinite;
                        }
                    }
                }
            }
        }

        &__celestial-body {
            position: absolute;
            top: 50%;
            left: 50%;
            display: block;
            width: 100%;
            height: 100%;
            @include i.transform(translate(-50%, -50%));
            transform-style: preserve-3d;

            span {
                position: absolute;
                top: 50%;
                left: 50%;
                display: block;
                border-radius: 100%;
                box-sizing: border-box;
                box-shadow: 0 0 5px 3px #000;
                overflow: hidden;
                @include i.transform(translate(-50%, -50%));
            }

            &--planet span {
                display: flex;
                justify-content: center;
                align-items: center;
                width: 130px;
                height: 130px;

                svg {
                    font-size: 3rem;
                }

                &:before {
                    content: '';
                    position: absolute;
                    top: -16%;
                    left: -16%;
                    width: 100%;
                    height: 100%;
                    background-color: rgba(255, 255, 255, 0.15);
                    border-radius: 100%;
                }

                & {
                    &#github {
                        background-color: #0a0a0a;
                    }

                    &#codepen {
                        background-color: #16181b;
                    }

                    &#linkedin {
                        background-color: #0077b5;
                    }

                    &#instagram {
                        background: linear-gradient(
                            45deg,
                            #f09433 0%,
                            #e6683c 25%,
                            #dc2743 50%,
                            #cc2366 75%,
                            #bc1888 100%
                        );
                    }

                    &#youtube {
                        background-color: #fe0000;
                    }

                    &#flickr {
                        background-color: #ff0084;
                    }

                    &#chess {
                        background-color: #6c9d40;
                    }
                }
            }

            &--satellite span {
                left: 100%;
                width: 30px;
                height: 30px;
                background-color: rgb(133, 131, 131);

                &:before {
                    content: '';
                    position: absolute;
                    top: -25%;
                    left: -25%;
                    width: 100%;
                    height: 100%;
                    background-color: rgba(255, 255, 255, 0.15);
                    border-radius: 100%;
                }
            }
        }
    }
}

@keyframes orbit {
    0% {
        @include i.transform(translate(-50%, -50%) rotateY(0deg));
    }
    100% {
        @include i.transform(translate(-50%, -50%) rotateY(360deg));
    }
}

@keyframes satellite {
    0% {
        @include i.transform(translate(-50%, -50%) rotateY(0deg));
    }
    100% {
        @include i.transform(translate(-50%, -50%) rotateY(-360deg));
    }
}

@keyframes bounce {
    from {
        transform: translateY(0px);
    }
    to {
        transform: translateY(-15px);
    }
}
